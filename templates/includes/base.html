{% load static %}
<!DOCTYPE html>
<html class="no-js" lang="en">

    <head>
        <meta charset="utf-8">
        <title>Necessipick: Compare Products</title>
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta property="og:title" content="">
        <meta property="og:type" content="">
        <meta property="og:url" content="">
        <meta property="og:image" content="">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
        <link rel="shortcut icon" type="image/x-icon" href="{% static 'imgs/theme/favicon.svg' %}">
        <!-- Template CSS -->
        <link rel="stylesheet" href="{% static 'css/main.css' %}">


        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1630726363015946"></script>


        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/moment"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment"></script>
        <script src="https://d3js.org/d3.v7.min.js"></script>
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v2.6.0/mapbox-gl.js'></script>
        <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v2.6.0/mapbox-gl.css' rel='stylesheet' />
    
        <script src="{% static 'js/plugins/jquery-3.6.0.min.js' %}"></script>
        <script src="{% static 'js/plugins/jquery-3.7.1.min.js' %}"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1630726363015946"
        crossorigin="anonymous"></script>
    </head>


    <body>
        {% include 'includes/header copy.html' %}
        

        <!-- Main body -->
        {% block content %}

        {% endblock %}
        <!-- End of Main body -->

        <!-- Footer -->
        {% include 'includes/footer copy.html' %}


        {% include 'includes/scripts copy.html' %}


                
        </script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script>
        $(document).ready(function () {
            // Handle search form submission
            $('.form-inline').on('submit', function (event) {
                event.preventDefault();

                var searchQuery = $('#search-bar').val().trim();

                if (searchQuery) {
                    // Send an AJAX request to the search view
                    $.get('{% url "home:search_results" %}', { search_query: searchQuery }, function (data) {
                        var searchResults = data.search_results;

                        // Display search results in the results container
                        var resultsContainer = $('#search-results');
                        resultsContainer.empty();

                        if (searchResults.length > 0) {
                            searchResults.forEach(function (product) {
                                var productLink = $('<a>')
                                    .attr('href', '/product_detail/' + product.id)
                                    .text(product.title);
                                var listItem = $('<li>').append(productLink);
                                resultsContainer.append(listItem);
                            });
                        } else {
                            resultsContainer.append('<li>No matching products found.</li>');
                        }
                    });
                } else {
                    // Clear search results when the search input is empty
                    $('#search-results').empty();
                }
            });
        });
        </script>

        




    </body>

</html>