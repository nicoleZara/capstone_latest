{% load static %}
<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <title>Necessipick: Compare Products</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'imgs/theme/favicon.svg' %}">
    <!-- Template CSS -->
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
</head>

<body>
    <header class="header-area header-style-1 header-height-2">
        <!-- UPEER HEADER -->
        <div class="header-top header-top-ptb-1 d-none d-lg-block">
            <div class="container">
                <div class="row align-items-center">

                    <div class="col-xl-3 col-lg-4">
                        <div class="header-info">
                            <ul>
                                <li>About Us</li>
                                <li>My Account</li>
                                <li>Wishlist</li>
                                <li>Order Tracking</li>
                            </ul>
                        </div>
                    </div>

                    <div class="col-xl-6 col-lg-4">
                        <div class="text-center">
                            <div id="news-flash" class="d-inline-block">
                                <ul>
                                    <li>Hassle free way of Coparing Products!</li>
                                    <li>Puregold, Waltermart, Metro Mrket! Market!</li>
                                    <li>Discover Discounts and Prices from Different Supermarkets!</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="col-xl-3 col-lg-4">
                        <div class="header-info header-info-right">
                            <ul>
                                <li>
                                    <a class="language-dropdown-active" href="#">English <i
                                            class="fi-rs-angle-small-down"></i></a>
                                    <ul class="language-dropdown">
                                        <li><a href="#"><img src="{% static 'imgs/theme/flags/flag-fr.png' %}"
                                                    alt="">Français</a></li>
                                        <li><a href="#"><img src="{% static 'imgs/theme/flags/flag-dt.png' %}"
                                                    alt="">Deutsch</a></li>
                                        <li><a href="#"><img src="{% static 'imgs/theme/flags/flag-ru.png' %}"
                                                    alt="">Pусский</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a class="language-dropdown-active" href="#">USD <i
                                            class="fi-rs-angle-small-down"></i></a>
                                    <ul class="language-dropdown">
                                        <li><a href="#"><img src="{% static 'imgs/theme/flags/flag-fr.png' %}"
                                                    alt="">INR</a></li>
                                        <li><a href="#"><img src="{% static 'imgs/theme/flags/flag-dt.png' %}"
                                                    alt="">MBP</a></li>
                                        <li><a href="#"><img src="{% static 'imgs/theme/flags/flag-ru.png' %}"
                                                    alt="">EU</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <!-- END OF UPPER HEADER -->

        <!-- MIDDLE HEADER W/ LOGO -->
        <div class="header-middle header-middle-ptb-1 d-none d-lg-block">
            <div class="container">
                <div class="header-wrap">
                    <!-- logo -->
                    <div class="logo-width-1">
                        <a href="{% url 'home:home' %}"><img src="{% static 'imgs/theme/logovv.png' %}" alt="logo"
                                style="width: 75px; height: 90px; margin-right: 30px;"></a>
                    </div>

                    <div class="header-right">
                        <div class="search-style-2">
                            <div class="container">
                                <!-- search query -->
                                <form action="{% url 'home:search_results' %}" method="GET" class="form-inline">
                                    <input type="search" id="search-bar" name="search_query"
                                        placeholder="Search for items..." aria-label="Search">
                                </form>

                                <!-- search result -->
                                <div id="search-results-container"
                                    style="position: absolute; max-height: 300px; max-width: 800px; overflow-y: auto; padding: 10px; margin-top: 10px; z-index: 999;background-color: white;">
                                    <div id="search-results">
                                        {% if search_results %}
                                        <ul class="list-group">
                                            {% for product in search_results %}
                                            <li class="list-group-item">
                                                <div class="product-info">
                                                    <a href="{% url 'home:product_detail' product.id %}">
                                                        <img src="{{ product.image_url }}" alt="{{ product.title }}"
                                                            class="product-image">
                                                        <span>{{ product.title }}</span>
                                                    </a>
                                                </div>
                                            </li>
                                            {% endfor %}
                                        </ul>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- middle Header, right side -->
                        <div class="header-action-right">
                            <div class="header-action-2">
                                <!-- location button -->
                                <div class="search-location">
                                    <form action="#">
                                        <button id="show-location-button" class="button">Show Your Location</button>
                                    </form>
                                </div>

                                <!-- location modal -->
                                <div class="modal fade custom-modal" id="location-modal" tabindex="-1"
                                    aria-labelledby="quickViewModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content" style="padding: 11px;   max-width: 1000px;">
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close" onclick="closeLocationModal()"></button>
                                            <div class="modal-body">
                                                <div class="title">
                                                    <h3>Supermarkets Near You</h3>
                                                </div>
                                                <div class="row" style=" text-align: center;">
                                                    <div class="col-4">
                                                        <h4>Puregold <img src="{% static 'icons/P.png' %}"></h4>
                                                    </div>
                                                    <div class="col-4">
                                                        <h4>Waltermart <img src="{% static 'icons/W.png' %}"></h4>
                                                    </div>
                                                    <div class="col-3">
                                                        <h4>Metro Market! Market! <img src="{% static 'icons/M.png' %}">
                                                        </h4>
                                                    </div>
                                                </div>

                                                <div id="map" style="height: 530px; width: 820px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- account -->
                                <div class="header-action-icon-2">
                                    <a href="#">
                                        <img class="svgInject" alt="Nest"
                                            src="{% static 'imgs/theme/icons/icon-user.svg' %}">
                                    </a>
                                    <span class="lable ml-0">Account</span>
                                </div>
                                <!-- wishlist w/hover -->
                                <div class="header-action-icon-2">
                                    <a href="#">
                                        <img class="svgInject" alt="Nest"
                                            src="{% static 'imgs/theme/icons/icon-heart.svg' %}">
                                        <span class="pro-count blue">6</span>
                                    </a>
                                    <span class="lable">Wishlist</span>
                                </div>
                                <!-- cart -->
                                <div class="header-action-icon-2">
                                    <a class="mini-cart-icon" href="#">
                                        <img alt="Nest" src="{% static 'imgs/theme/icons/icon-cart.svg' %}">
                                        <span class="pro-count blue">2</span>
                                    </a>
                                    <span class="lable">Cart</span>
                                    <div class="cart-dropdown-wrap cart-dropdown-hm2">
                                        <ul>
                                            <li>
                                                <div class="shopping-cart-img">
                                                    <a href="#"><img alt="Nest"
                                                            src="{% static 'imgs/shop/thumbnail-3.jpg' %}"></a>
                                                </div>
                                                <div class="shopping-cart-title">
                                                    <h4><a href="#">Daisy Casual Bag</a></h4>
                                                    <h4><span>1 × </span>$800.00</h4>
                                                </div>
                                                <div class="shopping-cart-delete">
                                                    <a href="#"><i class="fi-rs-cross-small"></i></a>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="shopping-cart-img">
                                                    <a href="#"><img alt="Nest"
                                                            src="{% static 'imgs/shop/thumbnail-2.jpg' %}"></a>
                                                </div>
                                                <div class="shopping-cart-title">
                                                    <h4><a href="#">Corduroy Shirts</a></h4>
                                                    <h4><span>1 × </span>$3200.00</h4>
                                                </div>
                                                <div class="shopping-cart-delete">
                                                    <a href="#"><i class="fi-rs-cross-small"></i></a>
                                                </div>
                                            </li>
                                        </ul>
                                        <div class="shopping-cart-footer">
                                            <div class="shopping-cart-total">
                                                <h4>Total <span>$4000.00</span></h4>
                                            </div>
                                            <div class="shopping-cart-button">
                                                <a href="#" class="outline">View cart</a>
                                                <a href="#">Checkout</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <!-- End of middle header -->



        <!-- THIRD HEADER - STICKY -->
        <div class="header-bottom header-bottom-bg-color sticky-bar">
            <div class="container">
                <div class="header-wrap header-space-between position-relative">
                    <!-- hidden logo, appear only on small device -->
                    <div class="logo d-lg-none">
                        <a href="{% url 'home:home' %}"><img src="{% static 'imgs/theme/logovv.png' %}" alt="logo"
                            style="width: 75px; height: 90px; margin-right: 30px;"></a>
                    </div>

                    <!-- 3rd header, left side of the menu -->
                    <div class="header-nav d-none d-lg-flex">
                        <!-- All categories -->
                        <div class="main-categori-wrap d-none d-lg-block">
                            <!-- all categories title -->
                            <a class="categories-button-active " href="#">
                                <span class="fi-rs-apps"></span> <span class="et">Browse</span> All Categories
                                <i class="fi-rs-angle-down"></i>
                            </a>
                            <div class="categories-dropdown-wrap categories-dropdown-active-large font-heading">
                                <!-- list categories -->
                                <div class="d-flex categori-dropdown-inner">
                                    <ul>
                                        <li><a href="{% url 'home:category' category_name='Canned Goods' %}"> <img
                                                    src="{% static 'imgs/theme/icons/cannedfood.png' %}" alt="">Canned
                                                Goods</a></li>
                                        <li><a href="{% url 'home:category' category_name='Milk' %}"> <img
                                                    src="{% static 'imgs/theme/icons/milk.png' %}" alt="">Milk</a></li>
                                        <li><a href="{% url 'home:category' category_name='Coffee' %}"> <img
                                                    src="{% static 'imgs/theme/icons/coffee.png' %}" alt="">Coffee</a>
                                        </li>
                                        <li><a href="{% url 'home:category' category_name='Bread' %}"> <img
                                                    src="{% static 'imgs/theme/icons/bread.png' %}" alt="">Bread</a>
                                        </li>
                                    </ul>
                                    <ul class="end">
                                        <li><a href="{% url 'home:category' category_name='Candle' %}"> <img
                                                    src="{% static 'imgs/theme/icons/water.png' %}"
                                                    alt="">Water/Mineral</a></li>
                                        <li><a href="{% url 'home:category' category_name='Water' %}"> <img
                                                    src="{% static 'imgs/theme/icons/vinegar.png' %}" alt="">Vinegar</a>
                                        </li>
                                        <li><a href="{% url 'home:category' category_name='Vinegar' %}"> <img
                                                    src="{% static 'imgs/theme/icons/soysauce.png' %}" alt="">Soy
                                                Sauce</a></li>
                                        <li><a href="{% url 'home:category' category_name='Soy Sauce' %}"> <img
                                                    src="{% static 'imgs/theme/icons/fishsauce.png' %}" alt="">Fish
                                                Sauce</a></li>
                                    </ul>
                                </div>

                                <div class="more_slide_open" style="display: none;">
                                    <div class="d-flex categori-dropdown-inner">
                                        <div class="d-flex categori-dropdown-inner">
                                            <ul>
                                                <li><a href="{% url 'home:category' category_name='Fish Sauce' %}"> <img
                                                            src="{% static 'imgs/theme/icons/candles.png' %}"
                                                            alt="">Candles</a></li>
                                                <li><a href="{% url 'home:category' category_name='Noodles' %}"> <img
                                                            src="{% static 'imgs/theme/icons/noodle.png' %}"
                                                            alt="">Noodles</a></li>
                                            </ul>
                                            <ul class="end">
                                                <li><a href="{% url 'home:category' category_name='Laundry Aids' %}">
                                                        <img src="{% static 'imgs/theme/icons/laundry.png' %}"
                                                            alt="">Laundry Aids</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="more_categories"> <span class="icon"></span> <span class="heading-sm-1">Show
                                        more...</span></div>
                            </div>
                        </div>

                        <!-- list of categories -->
                        <div class="main-menu main-menu-padding-1 main-menu-lh-2 d-none d-lg-block font-heading">
                            <nav>
                                <ul>
                                    <li class="hot-deals"><img src="{% static 'imgs/theme/icons/icon-hot.svg' %}" alt="hot deals"><a href="{% url 'home:discounts' %}">Hot Deals</a></li>

                                    <li><a href="{% url 'home:home' %}">Home</a></li>

                                    <li><a href="#">About</a></li>

                                    <li><a href="#">Supermarket <i class="fi-rs-angle-down"></i></a>
                                        <ul class="sub-menu">
                                            <li><a href="{% url 'supermarket:supermarket_page' supermarket_name='ShopMetro' %}">ShopMetro</a></li>
                                            <li><a href="{% url 'supermarket:supermarket_page' supermarket_name='Puregold' %}">Puregold</a></li>
                                            <li><a href="{% url 'supermarket:supermarket_page' supermarket_name='WalterMart' %}">Walter Mart</a></li>
                                        </ul>
                                    </li>

                                    <!-- Pages  -->
                                    <li>
                                        <a href="#">Pages <i class="fi-rs-angle-down"></i></a>
                                        <ul class="sub-menu">
                                            <li><a href="">About Us</a></li>
                                            <li><a href="#">Contact</a></li>
                                            <li><a href="#">My Account</a></li>
                                            <li><a href="#">Login</a></li>
                                            <li><a href="#">Register</a></li>
                                            <li><a href="#">Purchase Guide</a></li>
                                            <li><a href="#">Privacy Policy</a></li>
                                            <li><a href="#">Terms of Service</a></li>
                                            <li><a href="#">404 Page</a></li>
                                        </ul>
                                    </li>
                                    <!-- contact us -->
                                    <li>
                                        <a href=#>Contact</a>
                                    </li>
                                    <!-- show charts -->
                                    <li>
                                        <a href="{% url 'charts:chart1' %}">Charts</a></h2>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>

                    <!-- 3rd header, right side of the menu -->
                    {% if user.is_authenticated %}
                    <div class="main-categori-wrap d-none d-lg-block">
                        <a class="categories-button-active " href="#">
                            <img class="svgInject" alt="PRofile"
                                src="{% static 'imgs/theme/icons/icon-user-white.svg' %}" style="margin-right: 8%;">
                            Account
                            <i class="fi-rs-angle-down"></i>
                        </a>
                        <div class="categories-dropdown-wrap categories-dropdown-active-large font-heading">
                            <ul class="dropdown">
                                <li><a href="{% url 'auth_system:profile' %}">Profile</li>
                                <li><a href="#">Upvotes</a></li>
                                <li><a href="#">Downvotes</a></li>
                                <li><a href="#">Favorites</a></li>
                                <hr>
                                <li><a href="{% url 'auth_system:logout' %}">Logout</a></li>
                            </ul>
                        </div>
                    </div>
                    {% else %}
                    <a class="nav-item nav-link" href="{% url 'auth_system:login-page' %}">Login</a>
                    <a class="nav-item nav-link" href="{% url 'auth_system:register-page' %}">Register</a>
                    {% endif %}

                    <!-- ======================================================================================= -->
                   <!-- burger icon pag niliitan window -->
                    <div class="header-action-icon-2 d-block d-lg-none">
                        <div class="burger-icon burger-icon-white">
                            <span class="burger-icon-top"></span>
                            <span class="burger-icon-mid"></span>
                            <span class="burger-icon-bottom"></span>
                        </div>
                    </div>

                    <!-- laman ng cart pag mobile version -->
                    <div class="header-action-right d-block d-lg-none">
                        <div class="header-action-2">
                            <div class="header-action-icon-2">
                                <div class="mini-cart-icon">
                                    <img alt="Nest" id="show-location-button2"
                                        src="{% static 'imgs/theme/icons/icon-location.svg' %}">
                                </div>

                                <div class="header-action-icon-2">
                                    <a class="mini-cart-icon" href="#">
                                        <img alt="Nest" src="{% static 'imgs/theme/icons/icon-cart.svg' %}">
                                        <span class="pro-count white">2</span>
                                    </a>
                                    <div class="cart-dropdown-wrap cart-dropdown-hm2">
                                        <ul>
                                            <li>
                                                <div class="shopping-cart-img">
                                                    <a href="#">
                                                        <img alt="Nest" src="{% static 'imgs/shop/thumbnail-3.jpg' %}">
                                                    </a>
                                                </div>
                                                <div class="shopping-cart-title">
                                                    <h4><a href="#">Plain Striola Shirts</a></h4>
                                                    <h3><span>1 × </span>$800.00</h3>
                                                </div>
                                               
                                                
                                                <div class="shopping-cart-title">
                                                    <h4><a href="#">Macbook Pro 2022</a></h4>
                                                    <h3><span>1 × </span>$3500.00</h3>
                                                </div>
                                                <div class="shopping-cart-delete">
                                                    <a href="#"><i class="fi-rs-cross-small"></i></a>
                                                </div>
                                            </li>
                                        </ul>
                                        <div class="shopping-cart-footer">
                                            <div class="shopping-cart-total">
                                                <h4>Total <span>$383.00</span></h4>
                                            </div>
                                            <div class="shopping-cart-button">
                                                <a href="#">View cart</a>
                                                <a href="#">Checkout</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>


    <!-- mobile side bar -->
    <div class="mobile-header-active mobile-header-wrapper-style">
        <div class="mobile-header-wrapper-inner">
            <div class="mobile-header-top">
                <!-- np logo -->
                <div class="mobile-header-logo">
                    <a href="{% url 'home:home' %}"><img src="{% static 'imgs/theme/logovv.png' %}" alt="logo"
                        style="width: 75px; height: 90px; margin-right: 30px;"></a>
                </div>
                <div class="mobile-menu-close close-style-wrap close-style-position-inherit">
                    <button class="close-style search-close">
                        <i class="icon-top"></i>
                        <i class="icon-bottom"></i>
                    </button>
                </div>
            </div>
            <div class="mobile-header-content-area">
                <div class="mobile-search search-style-3 mobile-header-border">
                    <form action="#">
                        <input type="text" placeholder="Search for items…">
                        <button type="submit">
                            <i class="fi-rs-search"></i>
                        </button>
                    </form>
                </div>
                <div class="mobile-menu-wrap mobile-header-border">
                    <!-- mobile menu start -->
                    <nav>
                        <ul class="mobile-menu font-heading">
                            <li class="menu-item-has-children">
                                <a href="{% url 'home:home' %}">Home</a>
                            </li>
                            <li class="menu-item-has-children">
                                <a href="#">Supermarket</a>
                                <ul class="dropdown">
                                    <li><a href="#">Puregold</a></li>
                                    <li><a href="#">Shop Metro</a></li>
                                    <li><a href="#">Walter Mart</a></li>
                                    <li><a href="#">Shop List – Left Sidebar</a></li>
                                </ul>
                            </li>
                            <li><a href="#">About</a></li>
                            <li><a href="#">Contact</a></li>
                            <li><a href="#">Hot Deals</a></li>
                            <li><a href="#">Charts</a></li>
                            <li class="menu-item-has-children">
                                <a href="#">Pages</a>
                                <ul class="dropdown">
                                    <li><a href="#">About Us</a></li>
                                    <li><a href="#">Contact</a></li>
                                    <li><a href="#">My Account</a></li>
                                    <li><a href="#">Login</a></li>
                                    <li><a href="#">Register</a></li>
                                    <li><a href="#">Purchase Guide</a></li>
                                    <li><a href="#">Privacy Policy</a></li>
                                    <li><a href="#">Terms of Service</a></li>
                                    <li><a href="#">404 Page</a></li>
                                </ul>
                            </li>
                        </ul>
                        </li>
                    </nav>
                    <!-- mobile menu end -->


                </div>
                <div class="mobile-header-info-wrap">
                    <div class="single-mobile-header-info">
                        <a href="#"><i class="fi-rs-marker"></i> Our location</a>
                    </div>
                    <div class="single-mobile-header-info">
                        <a href="#"><i class="fi-rs-user"></i>Log In / Sign Up</a>
                    </div>
                    <div class="single-mobile-header-info">
                        <a href="#"><i class="fi-rs-headphones"></i>(+01) - 2345 - 6789</a>
                    </div>
                </div>
                <div class="mobile-social-icon mb-50">
                    <h6 class="mb-15">Follow Us</h6>
                    <a href="#"><img src="{% static 'imgs/theme/icons/icon-facebook-white.svg' %}" alt=""></a>
                    <a href="#"><img src="{% static 'imgs/theme/icons/icon-twitter-white.svg' %}" alt=""></a>
                    <a href="#"><img src="{% static 'imgs/theme/icons/icon-instagram-white.svg' %}" alt=""></a>
                    <a href="#"><img src="{% static 'imgs/theme/icons/icon-pinterest-white.svg' %}" alt=""></a>
                    <a href="#"><img src="{% static 'imgs/theme/icons/icon-youtube-white.svg' %}" alt=""></a>
                </div>
                <div class="site-copyright"> Copyright 2021 © NecessiPick. All rights reserved. Powered by NecessiPick.</div>
            </div>
        </div>
    </div>



    <!-- Main body -->
    {% block content %}

    {% endblock %}
    <!-- End of Main body -->

    <!-- Footer -->
    <footer class="main">
        <!-- banner -->
        <section class="newsletter wow fadeIn animated mb-15">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="position-relative newsletter-inner">
                            <div class="newsletter-content">

                                <h2 class="mb-20"> Compare and save with our one-stop <br> shopping comparison website.
                                </h2>
                                <p class="mb-45">Find the best prices on products from multiple supermarkets in<span
                                        class="text-brand"> Necessipick</span></p>
                                <form class="form-subcriber d-flex">
                                    <input type="email" placeholder="Your email address">
                                    <button class="btn" type="submit">Subscribe</button>
                                </form>
                            </div>
                            <img src="{% static 'imgs/banner/banner-9.png' %}" alt="newsletter">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features -->
        <section class="featured wow fadeIn animated section-padding">
            <div class="container">
                <div class="row">
                    <div class="col-lg-1-5 col-md-4 col-6 col-sm-6 mb-md-4 mb-xl-0">
                        <div class="banner-left-icon d-flex align-items-center wow fadeIn  animated">
                            <div class="banner-icon">
                                <img src="{% static 'imgs/theme/icons/icon-1.svg' %}" alt="">
                            </div>
                            <div class="banner-text">
                                <h3 class="icon-box-title">Price Match</h3>
                                <p>Find the best prices, guaranteed.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-1-5 col-md-4 col-6 col-sm-6">
                        <div class="banner-left-icon d-flex align-items-center wow fadeIn  animated">
                            <div class="banner-icon">
                                <img src="{% static 'imgs/theme/icons/icon-2.svg' %}" alt="">
                            </div>
                            <div class="banner-text">
                                <h3 class="icon-box-title">Price Check</h3>
                                <p>Verify the best prices here.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-1-5 col-md-4 col-6 col-sm-6">
                        <div class="banner-left-icon d-flex align-items-center wow fadeIn  animated">
                            <div class="banner-icon">
                                <img src="{% static 'imgs/theme/icons/icon-3.svg' %}" alt="">
                            </div>
                            <div class="banner-text">
                                <h3 class="icon-box-title">Shop Wise</h3>
                                <p>Better shopping decisions.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-1-5 col-md-4 col-6 col-sm-6">
                        <div class="banner-left-icon d-flex align-items-center wow fadeIn  animated">
                            <div class="banner-icon">
                                <img src="{% static 'imgs/theme/icons/icon-4.svg' %}" alt="">
                            </div>
                            <div class="banner-text">
                                <h3 class="icon-box-title">Compare & Save</h3>
                                <p>Comparison for cost-cutters</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-1-5 col-md-4 col-6 col-sm-6">
                        <div class="banner-left-icon d-flex align-items-center wow fadeIn  animated">
                            <div class="banner-icon">
                                <img src="{% static 'imgs/theme/icons/icon-5.svg' %}" alt="">
                            </div>
                            <div class="banner-text">
                                <h3 class="icon-box-title">Product Pal</h3>
                                <p>Your trusty product guide.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-1-5 col-md-4 col-6 col-sm-6 d-xl-none">
                        <div class="banner-left-icon d-flex align-items-center wow fadeIn  animated">
                            <div class="banner-icon">
                                <img src="{% static 'imgs/theme/icons/icon-6.svg' %}" alt="">
                            </div>
                            <div class="banner-text">
                                <h3 class="icon-box-title">Pick Smarter</h3>
                                <p>Pick the best deal in the market</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section-padding footer-mid">
            <div class="container pt-15 pb-20">
                <div class="row">
                    <div class="col">
                        <div class="widget-about font-md mb-md-3 mb-lg-3 mb-xl-0">
                            <div class="logo wow fadeIn animated mb-30">
                                <a href="{% url 'home:home' %}"><img src="{% static 'imgs/theme/logovv.png' %}"
                                        alt="logo" style="width: 75px; height: 90px; margin-right: 30px;"></a>
                                <p class="font-lg text-heading">Product Comparison System</p>
                            </div>
                            <ul class="contact-infor">
                                <li><img src="assets/imgs/theme/icons/icon-location.svg"
                                        alt=""><strong>Address:</strong><span>Technological Institute of <br>the
                                        Philippines-Manila</span></li>
                                <li><img src="assets/imgs/theme/icons/icon-contact.svg" alt=""><strong>Contact
                                        Us:</strong><span>email@tip.edu.ph</span></li>
                                <li><img src="assets/imgs/theme/icons/icon-email-2.svg" alt=""><strong>About
                                        Us:</strong><span><a href="https://demosc.chinaz.net/cdn-cgi/l/email-protection"
                                            class="__cf_email__"
                                            data-cfemail="1261737e77525c7761663c717d7f">[email&#160;protected]</a></span>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="footer-link-widget col">
                        <h4 class="widget-title wow fadeIn animated">Account</h4>
                        <ul class="footer-list wow fadeIn animated mb-sm-5 mb-md-0">
                            <li><a href="#">Sign In</a></li>
                            <li><a href="#">My Wishlist</a></li>
                            <li><a href="#">Track Nearest Supermarket</a></li>
                            <li><a href="#">Compare products</a></li>
                        </ul>
                    </div>
                    <div class="footer-link-widget col">
                        <h4 class="widget-title wow fadeIn animated">Popular</h4>
                        <ul class="footer-list wow fadeIn animated mb-sm-5 mb-md-0">
                            <li><a href="#">Canned Goods</a></li>
                            <li><a href="#">Milk</a></li>
                            <li><a href="#">Coffee</a></li>
                            <li><a href="#">Bread</a></li>
                            <li><a href="#">Candles</a></li>
                            <li><a href="#">Water/Mineral</a></li>
                        </ul>
                    </div>
                    <div class="footer-link-widget col">
                        <h4 class="widget-title wow fadeIn animated"></h4>
                        <ul class="footer-list wow fadeIn animated mb-sm-5 mb-md-0">

                            <li><a href="#">Vinegar</a></li>
                            <li><a href="#">Soy Sauce</a></li>
                            <li><a href="#">Fish Sauce</a></li>
                            <li><a href="#">Noodles</a></li>
                            <li><a href="#">Laundry Aids</a></li>

                        </ul>
                    </div>
                    <div class="footer-link-widget widget-install-app col">
                        <h4 class="widget-title wow fadeIn animated">Access our Platform</h4>
                        <p class="wow fadeIn animated">Dynamic Access to any Browser</p>

                    </div>
                </div>
            </div>
        </section>
        <div class="container pb-30 wow fadeIn animated">
            <div class="row align-items-center">
                <div class="col-12 mb-30">
                    <div class="footer-bottom"></div>
                </div>
                <div class="col-xl-4 col-lg-6 col-md-6">
                    <p class="font-sm mb-0">Copyright &copy; 2021.Necessipick name All rights reserved.<a
                            target="_blank" href="https://sc.chinaz.com/moban/">&#x7F51;&#x9875;&#x6A21;&#x677F;</a></p>
                </div>
                <div class="col-xl-4  col-lg-6 text-center d-none d-xl-block">
                    <div class="hotline d-lg-inline-flex mr-30">
                        <img src="assets/imgs/theme/icons/phone-call.svg" alt="hotline">
                        <p>09567788388<span>Working 8:00 - 22:00</span></p>
                    </div>
                    <div class="hotline d-lg-inline-flex">
                        <img src="assets/imgs/theme/icons/phone-call.svg" alt="hotline">
                        <p>email@tip.edu.ph<span>24/7 Support Center</span></p>
                    </div>
                </div>
                <div class="col-xl-4  col-lg-6  col-md-6 text-end d-none d-md-block">
                    <div class="mobile-social-icon">
                        <h6>Follow Us </h6>
                        <a href="#"><img src="{% static 'imgs/theme/icons/icon-facebook-white.svg' %}" alt=""></a>
                        <a href="#"><img src="{% static 'imgs/theme/icons/icon-twitter-white.svg' %}" alt=""></a>
                        <a href="#"><img src="{% static 'imgs/theme/icons/icon-instagram-white.svg' %}" alt=""></a>
                        <a href="#"><img src="{% static 'imgs/theme/icons/icon-pinterest-white.svg' %}" alt=""></a>
                        <a href="#"><img src="{% static 'imgs/theme/icons/icon-youtube-white.svg' %}" alt=""></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>


    <!-- Scripts -->
    <script>

        // Compare Modal
        function openCompareModal(productId) {
            // Use AJAX to fetch the modal content dynamically
            $.ajax({
                url: "{% url 'supermarket:compare_modal' 0 %}".replace('0', productId),
                type: "GET",
                success: function (data) {
                    // Append the modal content to the modal container
                    $('#compareModalContainer').html(data);

                    // Show the modal
                    $('#compareModal').modal('show');
                },
                error: function () {
                    alert("Failed to load modal content.");
                }
            });

        }

        // Compare Modal
        function openQuickViewModal(productId) {
            // Use AJAX to fetch the modal content dynamically
            $.ajax({
                url: "{% url 'supermarket:quickview_modal' 0 %}".replace('0', productId),
                type: "GET",
                success: function (data) {
                    // Append the modal content to the modal container
                    $('#quickviewModalContainer').html(data);

                    // Show the modal
                    $('#quickviewModal').modal('show');
                },
                error: function () {
                    alert("Failed to load modal content.");
                }
            });

        }


        // Retrieve the price history data from the Django context as a JSON string
        const formattedPriceHistoryData = JSON.parse('{{ formatted_price_history_json|escapejs }}');

        // Check if price history data is available
        if (formattedPriceHistoryData.length > 0) {
            // Log a message to the browser console
            console.log('Formatted price history data is available:', formattedPriceHistoryData);

            // Extract the price and date data from the formatted price history
            const prices = formattedPriceHistoryData.map(entry => parseFloat(entry.price.replace('₱', ''))); // Convert to a number
            const dates = formattedPriceHistoryData.map(entry => entry.date_scraped);

            // Get the canvas element and create the chart
            const ctx = document.getElementById('priceHistoryChart').getContext('2d');
            const priceHistoryChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: dates,
                    datasets: [{
                        label: 'Price History',
                        data: prices,
                        borderColor: 'rgba(152, 0, 239, 0.8)', // Line color
                        borderWidth: 2, // Line width
                        fill: false, // Do not fill area under the line
                    }],
                },
                options: {
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Month and Year',
                            },
                            ticks: {
                                autoSkip: true,
                                maxTicksLimit: 10, // Limit the number of visible ticks
                            },
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Price',
                            },
                        },
                    },
                },
            });
        } else {
            // Log a message to the browser console indicating that no formatted price history data is available
            console.log('No formatted price history data available.');
        }

    </script>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

    <script>
        // Function to change the dropdown button image
        function changeDropdownImage(imageSrc) {
            var dropdownButton = document.querySelector('.dropdown-button');
            dropdownButton.src = imageSrc;

            // Store the selected image source in localStorage
            localStorage.setItem('selectedSupermarketImage', imageSrc);
        }

        // Function to retrieve the selected image source from localStorage
        function getSelectedSupermarketImage() {
            return localStorage.getItem('selectedSupermarketImage');
        }

        // Attach a click event listener to the image
        document.querySelector('.dropdown-button').addEventListener('click', function () {
            // Find the associated dropdown menu
            var dropdownMenu = document.querySelector('.dropdown-menu');

            // Toggle the dropdown menu's visibility by toggling the "show" class
            if (dropdownMenu.classList.contains('show')) {
                dropdownMenu.classList.remove('show');
            } else {
                dropdownMenu.classList.add('show');
            }
        });

        function selectSupermarket(supermarket) {
            // Change the dropdown button image based on the selected supermarket
            if (supermarket === 'Puregold') {
                changeDropdownImage("{% static 'icons/puregold_horizontal.png' %}");
            } else if (supermarket === 'ShopMetro') {
                changeDropdownImage("{% static 'icons/shopmetro_horizontal.png' %}");
            } else if (supermarket === 'WalterMart') {
                changeDropdownImage("{% static 'icons/waltermart_horizontal.png' %}");
            }

            const currentURL = new URL(window.location.href);

            // Update the URL with the selected supermarket
            if (supermarket) {
                currentURL.searchParams.set('supermarket', supermarket);
            } else {
                currentURL.searchParams.delete('supermarket');
            }

            window.location.href = currentURL.toString();
        }

        // Check if a selected supermarket image is stored in localStorage and set it
        var storedImage = getSelectedSupermarketImage();
        if (storedImage) {
            changeDropdownImage(storedImage);
        }
    </script>



    <!-- <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD2jnPx44CEvp5JTozVnNthaAQ0mOXzhzc&libraries=places&callback=initMap" async defer></script> -->
    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD2jnPx44CEvp5JTozVnNthaAQ0mOXzhzc&libraries=geometry,places&callback=initMap"
        async defer></script>

    <script>
        var map;
        var infowindow;

        function getPlaceDetails(place) {
            const userLatLng = new google.maps.LatLng(map.getCenter().lat(), map.getCenter().lng());
            const placeLatLng = new google.maps.LatLng(place.geometry.location.lat(), place.geometry.location.lng());
            const distance = google.maps.geometry.spherical.computeDistanceBetween(userLatLng, placeLatLng);

            var contentString = '<div style="width:500px;height:500px; display: flex; flex-direction: column;">' +
                '<strong style="font-size: 24px; color: #8DC63F;">' + place.name + '</strong><br>' +
                '<strong>Distance : ' + Math.round(distance) + ' Metres </strong><br>'; // Added a line to display distance from current location
            if (place.photos) {
                var firstPhotoUrl = place.photos[0].getUrl();
                contentString += '<img src="' + firstPhotoUrl + '" alt="Place photo" style="max-width:100%;height:auto; border-radius: 10px;"><br>';
            } else {
                contentString += 'No photos available<br>';
            }

            contentString +=
                '<strong style="font-weight: bold;">Address:</strong> ' + place.formatted_address + '<br>' +
                '<strong style="font-weight: bold;">Business Status:</strong> ' + place.business_status + '<br>' +
                '<strong style="font-weight: bold;">Rating:</strong> ' + place.rating + '<br>' +
                '<strong style="font-weight: bold;">User Ratings:</strong> ' + place.user_ratings_total + '<br>';

            var formattedWeekdays = formatWeekdayText(place.opening_hours);
            contentString += '<div><strong style="font-weight: bold;">Hours:</strong>';
            contentString += '<br>' + formattedWeekdays.join('<br>') + '</div>';

            contentString += '</div>';

            return contentString;
        }

        function formatWeekdayText(openingHours) {
            var weekdays = openingHours.weekday_text;
            var formattedWeekdays = [];

            // Extract the day and time from the weekday_text
            for (var i = 0; i < weekdays.length; i++) {
                var parts = weekdays[i].split(' ');
                var day = parts[0];
                var timeRange = parts.slice(1).join(' ');

                // Format time to include AM and PM
                var formattedTime = formatTime(timeRange);

                formattedWeekdays.push(day + ' ' + formattedTime);
            }

            // Move Sunday to the end
            var sunday = formattedWeekdays.shift();
            formattedWeekdays.push(sunday);

            return formattedWeekdays;
        }

        // Function to format time with AM and PM
        function formatTime(rawTime) {
            var [start, end] = rawTime.split('–').map(s => s.trim());
            var [startHours, startMinutes] = start.split(':').map(Number);
            var [endHours, endMinutes] = end.split(':').map(Number);
            // Check for NaN values and set them to 0
            if (isNaN(startHours) || isNaN(startMinutes) || isNaN(endHours) || isNaN(endMinutes)) {
                startHours = 0;
                startMinutes = 0;
                endHours = 0;
                endMinutes = 0;
            }
            var startAMPM = startHours >= 12 ? 'PM' : 'AM';
            startHours = startHours % 12;
            startHours = startHours ? startHours : 12; // Handle midnight (0:00 AM)
            startMinutes = startMinutes < 10 ? '0' + startMinutes : startMinutes;

            var endAMPM = endHours >= 12 ? 'PM' : 'AM';
            endHours = endHours % 12;
            endHours = endHours ? endHours : 12; // Handle midnight (0:00 AM)
            endMinutes = endMinutes < 10 ? '0' + endMinutes : endMinutes;

            return startHours + ':' + startMinutes + ' ' + startAMPM + ' – ' + endHours + ':' + endMinutes + ' ' + endAMPM;
        }

        function initMap() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (geoPosition) {
                    var { latitude, longitude } = geoPosition.coords;

                    map = new google.maps.Map(document.getElementById('map'), {
                        center: { lat: latitude, lng: longitude },
                        zoom: 15
                    });

                    var markerPosition = { lat: latitude, lng: longitude };
                    var marker = new google.maps.Marker({
                        position: markerPosition,
                        map: map,
                        title: 'Your location'
                    });

                    infowindow = new google.maps.InfoWindow();
                    var service = new google.maps.places.PlacesService(map);
                    service.nearbySearch({
                        location: markerPosition,
                        radius: 5000,
                        type: ['supermarket']  // search for all supermarkets
                    }, processResults);
                }, function () {
                    handleLocationError(true, infowindow, map.getCenter());
                },
                    {
                        enableHighAccuracy: true
                    }
                );
            } else {
                handleLocationError(false, infowindow, map.getCenter());
            }
        }

        function handleLocationError(browserHasGeolocation, infowindow, pos) {
            infowindow.setPosition(pos);
            infowindow.setContent(browserHasGeolocation ?
                'Error: The Geolocation service failed.' :
                'Error: Your browser doesn\'t support geolocation.');
            infowindow.open(map);
        }

        function processResults(results, status) {
            if (status === google.maps.places.PlacesServiceStatus.OK) {
                for (var i = 0; i < results.length; i++) {
                    var placeNameInLowerCase = results[i].name.toLowerCase();
                    if (placeNameInLowerCase.includes('puregold') ||
                        placeNameInLowerCase.includes('waltermart') ||
                        placeNameInLowerCase.includes('metro market! market!')) {
                        createMarker(results[i]);
                    }
                }
            }
        }
        function createMarker(placeInfo) {
            var icon;
            if (placeInfo.name.toLowerCase().includes('puregold')) {
                icon = "{% static 'icons/P.png' %}";
            } else if (placeInfo.name.toLowerCase().includes('waltermart')) {
                icon = "{% static 'icons/W.png' %}";
            } else if (placeInfo.name.toLowerCase().includes('metro market! market!')) {
                icon = "{% static 'icons/M.png' %}";
            }

            var marker = new google.maps.Marker({
                map: map,
                position: placeInfo.geometry.location,
                icon: icon
            });

            var service = new google.maps.places.PlacesService(map);

            google.maps.event.addListener(marker, 'click', function () {
                service.getDetails({ placeId: placeInfo.place_id }, function (place, status) {
                    if (status === google.maps.places.PlacesServiceStatus.OK) {
                        infowindow.setContent(getPlaceDetails(place)); // Remove formattedWeekdays
                        infowindow.open(map, marker);
                    }
                });
            });
        }

    </script>
    <script>
        // Function to open the location modal
        function openLocationModal() {
            var modal = new bootstrap.Modal(document.getElementById("location-modal"));
            modal.show();
            var backdrops = document.getElementsByClassName('modal-backdrop');
            for (var i = 0; i < backdrops.length; i++) {
                backdrops[i].remove();
            }
            // Initialize the map (You can put your map initialization code here)
            initMap();
        }

        // Function to close the location modal
        function closeLocationModal() {
            var modal = new bootstrap.Modal(document.getElementById("location-modal"));
            modal.hide();
            // Remove any existing modal-backdrop elements
            var backdrops = document.getElementsByClassName('modal-backdrop');
            for (var i = 0; i < backdrops.length; i++) {
                backdrops[i].remove();
            }
        }

        // Listen for button click to open the location modal
        var showLocationButton = document.getElementById("show-location-button");
        showLocationButton.addEventListener("click", openLocationModal);

    </script>

    <script>
        // Function to open the location modal
        function openLocationModal2() {
            var modal = new bootstrap.Modal(document.getElementById("location-modal2"));
            modal.show();
            var backdrops = document.getElementsByClassName('modal-backdrop');
            for (var i = 0; i < backdrops.length; i++) {
                backdrops[i].remove();
            }
            // Initialize the map (You can put your map initialization code here)
            initMap();
        }

        // Function to close the location modal
        function closeLocationModal2() {
            var modal = new bootstrap.Modal(document.getElementById("location-modal2"));
            modal.hide();
            // Remove any existing modal-backdrop elements
            var backdrops = document.getElementsByClassName('modal-backdrop');
            for (var i = 0; i < backdrops.length; i++) {
                backdrops[i].remove();
            }
        }

        // Listen for button click to open the location modal
        var showLocationButton = document.getElementById("show-location-button2");
        showLocationButton.addEventListener("click", openLocationModal2);

    </script>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            // Handle search form submission
            $('.form-inline').on('submit', function (event) {
                event.preventDefault();

                var searchQuery = $('#search-bar').val().trim();

                if (searchQuery) {
                    // Send an AJAX request to the search view
                    $.get('{% url "home:search_results" %}', { search_query: searchQuery }, function (data) {
                        var searchResults = data.search_results;

                        // Display search results in the results container
                        var resultsContainer = $('#search-results');
                        resultsContainer.empty();

                        if (searchResults.length > 0) {
                            searchResults.forEach(function (product) {
                                var productLink = $('<a>')
                                    .attr('href', '/product_detail/' + product.id)
                                    .text(product.title);
                                var listItem = $('<li>').append(productLink);
                                resultsContainer.append(listItem);
                            });
                        } else {
                            resultsContainer.append('<li>No matching products found.</li>');
                        }
                    });
                } else {
                    // Clear search results when the search input is empty
                    $('#search-results').empty();
                }
            });
        });
    </script>


    <script src="{% static 'js/vendor/modernizr-3.6.0.min.js' %}"></script>
    <script src="{% static 'js/vendor/jquery-3.6.0.min.js' %}"></script>
    <script src="{% static 'js/vendor/jquery-migrate-3.3.0.min.js' %}"></script>
    <script src="{% static 'js/vendor/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'js/plugins/slick.js' %}"></script>
    <script src="{% static 'js/plugins/jquery.syotimer.min.js' %}"></script>
    <script src="{% static 'js/plugins/wow.js' %}"></script>
    <script src="{% static 'js/plugins/jquery-ui.js' %}"></script>
    <script src="{% static 'js/plugins/perfect-scrollbar.js' %}"></script>
    <script src="{% static 'js/plugins/magnific-popup.js' %}"></script>
    <script src="{% static 'js/plugins/select2.min.js' %}"></script>
    <script src="{% static 'js/plugins/waypoints.js' %}"></script>
    <script src="{% static 'js/plugins/counterup.js' %}"></script>
    <script src="{% static 'js/plugins/jquery.countdown.min.js' %}"></script>
    <script src="{% static 'js/plugins/images-loaded.js' %}"></script>
    <script src="{% static 'js/plugins/isotope.js' %}"></script>
    <script src="{% static 'js/plugins/scrollup.js' %}"></script>
    <script src="{% static 'js/plugins/jquery.vticker-min.js' %}"></script>
    <script src="{% static 'js/plugins/jquery.theia.sticky.js' %}"></script>
    <script src="{% static 'js/plugins/jquery.elevatezoom.js' %}"></script>

    <!-- Template JS -->
    <script src="{% static 'js/main.js' %}"></script>
    <script src="{% static 'js/shop.js' %}"></script>
</body>

</html>